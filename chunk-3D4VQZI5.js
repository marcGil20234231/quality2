import{a as ne}from"./chunk-ESCU5HRN.js";import{b as Y,c,d as z,e as H,g as J,h as K,j as Q,m as W,n as X,o as Z,p as ee,q as te,s as ie,u as re}from"./chunk-WRGOV7ZX.js";import{a as $}from"./chunk-M75XJNAF.js";import"./chunk-B2SMLHQB.js";import{e as V,g as B,h as P,k as G}from"./chunk-4BZPK5W5.js";import{Aa as g,Fa as L,Ib as R,Ja as u,Jb as O,Kb as A,Ob as k,Qa as m,Ta as i,Ua as e,Va as d,Za as M,_a as U,db as r,eb as _,fb as D,lb as p,wa as a}from"./chunk-4NTA57OQ.js";import"./chunk-2NFLSA4Y.js";var v=n=>({"is-invalid":n});function le(n,l){n&1&&(i(0,"div"),r(1,"Title is required."),e())}function ae(n,l){n&1&&(i(0,"div"),r(1,"Title must be at least 5 characters long."),e())}function me(n,l){if(n&1&&(i(0,"div",48),u(1,le,2,0,"div",49)(2,ae,2,0,"div",49),e()),n&2){let o,t,s=U();a(),m("ngIf",(o=s.courseForm.get("title"))==null||o.errors==null?null:o.errors.required),a(),m("ngIf",(t=s.courseForm.get("title"))==null||t.errors==null?null:t.errors.minlength)}}function ue(n,l){n&1&&(i(0,"div"),r(1,"Description is required."),e())}function se(n,l){n&1&&(i(0,"div"),r(1,"Description must be at least 20 characters long."),e())}function de(n,l){if(n&1&&(i(0,"div",48),u(1,ue,2,0,"div",49)(2,se,2,0,"div",49),e()),n&2){let o,t,s=U();a(),m("ngIf",(o=s.courseForm.get("description"))==null||o.errors==null?null:o.errors.required),a(),m("ngIf",(t=s.courseForm.get("description"))==null||t.errors==null?null:t.errors.minlength)}}function ce(n,l){if(n&1&&(i(0,"option",50),r(1),e()),n&2){let o=l.$implicit;m("value",o),a(),_(o)}}function pe(n,l){n&1&&(i(0,"div",48),r(1," Category is required. "),e())}function ve(n,l){if(n&1&&(i(0,"option",50),r(1),e()),n&2){let o=l.$implicit;m("value",o),a(),_(o)}}function ge(n,l){n&1&&(i(0,"div",48),r(1," Level is required. "),e())}function fe(n,l){n&1&&(i(0,"div",48),r(1," Duration is required. "),e())}function _e(n,l){n&1&&(i(0,"div"),r(1,"Price is required."),e())}function he(n,l){n&1&&(i(0,"div"),r(1,"Price cannot be negative."),e())}function Ce(n,l){if(n&1&&(i(0,"div",48),u(1,_e,2,0,"div",49)(2,he,2,0,"div",49),e()),n&2){let o,t,s=U();a(),m("ngIf",(o=s.courseForm.get("price"))==null||o.errors==null?null:o.errors.required),a(),m("ngIf",(t=s.courseForm.get("price"))==null||t.errors==null?null:t.errors.min)}}function be(n,l){if(n&1&&(i(0,"option",50),r(1),e()),n&2){let o=l.$implicit;m("value",o.id),a(),_(o.name)}}function Fe(n,l){n&1&&(i(0,"div",48),r(1," Teacher is required. "),e())}function Se(n,l){n&1&&(i(0,"div",48),r(1," Learning objectives are required. "),e())}function Ee(n,l){n&1&&d(0,"span",51)}var oe=class n{constructor(l,o,t,s,f){this.fb=l;this.courseService=o;this.teacherService=t;this.route=s;this.router=f;this.courseForm=this.fb.group({title:["",[c.required,c.minLength(5)]],description:["",[c.required,c.minLength(20)]],category:["",c.required],level:["",c.required],duration:["",c.required],teacherId:["",c.required],imageUrl:[""],videoUrl:[""],objectives:["",c.required],requirements:[""],price:[0,[c.required,c.min(0)]]})}courseForm;courseId=null;isEditMode=!1;teachers=[];categories=["Mathematics","Science","Technology","Language Arts","Social Studies","Arts","Physical Education"];levels=["Beginner","Intermediate","Advanced"];isSubmitting=!1;ngOnInit(){this.loadTeachers();let l=this.route.snapshot.paramMap.get("id");l&&(this.courseId=+l,this.isEditMode=!0,this.loadCourseData(this.courseId))}loadTeachers(){this.teacherService.getTeachers().subscribe(l=>{this.teachers=l})}loadCourseData(l){this.courseService.getCourse(l).subscribe(o=>{this.courseForm.patchValue({title:o.title,description:o.description,category:o.category,level:o.level,duration:o.duration,teacherId:o.teacherId,imageUrl:o.imageUrl,videoUrl:o.videoUrl,objectives:o.objectives,requirements:o.requirements,price:o.price})})}onSubmit(){if(this.courseForm.valid){this.isSubmitting=!0;let l=this.courseForm.value;this.isEditMode&&this.courseId?this.courseService.updateCourse(this.courseId,l).subscribe(()=>{this.router.navigate(["/courses",this.courseId])},o=>{console.error("Error updating course",o),this.isSubmitting=!1}):this.courseService.createCourse(l).subscribe(o=>{this.router.navigate(["/courses",o.id])},o=>{console.error("Error creating course",o),this.isSubmitting=!1})}else Object.keys(this.courseForm.controls).forEach(l=>{this.courseForm.get(l)?.markAsTouched()})}static \u0275fac=function(o){return new(o||n)(g(ie),g($),g(ne),g(V),g(B))};static \u0275cmp=L({type:n,selectors:[["app-course-form"]],decls:123,vars:40,consts:[[1,"container","my-4"],[1,"card"],[1,"card-header","bg-danger","text-white"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-8"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","5",1,"form-control",3,"ngClass"],[1,"col-md-6","mb-3"],["for","category",1,"form-label"],["id","category","formControlName","category",1,"form-select",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","level",1,"form-label"],["id","level","formControlName","level",1,"form-select",3,"ngClass"],["for","duration",1,"form-label"],["type","text","id","duration","formControlName","duration","placeholder","e.g., 8 weeks, 40 hours",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["type","number","id","price","formControlName","price","min","0",1,"form-control",3,"ngClass"],[1,"form-text","text-muted"],["for","teacherId",1,"form-label"],["id","teacherId","formControlName","teacherId",1,"form-select",3,"ngClass"],[1,"mb-3","mt-4"],["for","imageUrl",1,"form-label"],["type","text","id","imageUrl","formControlName","imageUrl","placeholder","https://example.com/course-image.jpg",1,"form-control"],["for","videoUrl",1,"form-label"],["type","text","id","videoUrl","formControlName","videoUrl","placeholder","https://youtube.com/embed/videoId",1,"form-control"],["for","objectives",1,"form-label"],["id","objectives","formControlName","objectives","rows","4","placeholder","Enter each objective on a new line",1,"form-control",3,"ngClass"],["for","requirements",1,"form-label"],["id","requirements","formControlName","requirements","rows","3","placeholder","Enter each requirement on a new line",1,"form-control"],[1,"col-md-4"],[1,"card-header","bg-dark","text-white"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-danger",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],["routerLink","/courses",1,"btn","btn-outline-secondary"],[1,"card","mt-3"],[1,"card-header","bg-light"],[1,"list-unstyled"],[1,"mb-2"],[1,"bi","bi-check-circle-fill","text-danger","me-2"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(o,t){if(o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),r(4),e()(),i(5,"div",4)(6,"form",5),M("ngSubmit",function(){return t.onSubmit()}),i(7,"div",6)(8,"div",7)(9,"h3",8),r(10,"Basic Information"),e(),i(11,"div",8)(12,"label",9),r(13,"Course Title *"),e(),d(14,"input",10),u(15,me,3,2,"div",11),e(),i(16,"div",8)(17,"label",12),r(18,"Description *"),e(),d(19,"textarea",13),u(20,de,3,2,"div",11),e(),i(21,"div",6)(22,"div",14)(23,"label",15),r(24,"Category *"),e(),i(25,"select",16)(26,"option",17),r(27,"Select Category"),e(),u(28,ce,2,2,"option",18),e(),u(29,pe,2,0,"div",11),e(),i(30,"div",14)(31,"label",19),r(32,"Level *"),e(),i(33,"select",20)(34,"option",17),r(35,"Select Level"),e(),u(36,ve,2,2,"option",18),e(),u(37,ge,2,0,"div",11),e()(),i(38,"div",6)(39,"div",14)(40,"label",21),r(41,"Duration *"),e(),d(42,"input",22),u(43,fe,2,0,"div",11),e(),i(44,"div",14)(45,"label",23),r(46,"Price (\u20B1) *"),e(),d(47,"input",24),u(48,Ce,3,2,"div",11),i(49,"small",25),r(50,"Enter 0 for free courses."),e()()(),i(51,"div",8)(52,"label",26),r(53,"Teacher *"),e(),i(54,"select",27)(55,"option",17),r(56,"Select Teacher"),e(),u(57,be,2,2,"option",18),e(),u(58,Fe,2,0,"div",11),e(),i(59,"h3",28),r(60,"Media"),e(),i(61,"div",8)(62,"label",29),r(63,"Course Image URL"),e(),d(64,"input",30),i(65,"small",25),r(66,"Enter a URL for the course cover image."),e()(),i(67,"div",8)(68,"label",31),r(69,"Course Preview Video URL"),e(),d(70,"input",32),i(71,"small",25),r(72,"Enter a YouTube embed URL for the course preview video."),e()(),i(73,"h3",28),r(74,"Course Details"),e(),i(75,"div",8)(76,"label",33),r(77,"Learning Objectives *"),e(),d(78,"textarea",34),u(79,Se,2,0,"div",11),i(80,"small",25),r(81,"List what students will learn from this course. Enter each objective on a new line."),e()(),i(82,"div",8)(83,"label",35),r(84,"Course Requirements"),e(),d(85,"textarea",36),i(86,"small",25),r(87,"List any prerequisites or requirements for taking this course. Enter each item on a new line."),e()()(),i(88,"div",37)(89,"div",1)(90,"div",38)(91,"h5",3),r(92,"Publishing Settings"),e()(),i(93,"div",4)(94,"p"),r(95,"Your course will be saved as a draft until you publish it."),e(),i(96,"div",39)(97,"button",40),u(98,Ee,1,0,"span",41),r(99),e(),i(100,"a",42),r(101,"Cancel"),e()()()(),i(102,"div",43)(103,"div",44)(104,"h5",3),r(105,"Tips"),e()(),i(106,"div",4)(107,"ul",45)(108,"li",46),d(109,"i",47),r(110," Use a descriptive title"),e(),i(111,"li",46),d(112,"i",47),r(113," Clearly define learning objectives"),e(),i(114,"li",46),d(115,"i",47),r(116," Add high-quality images"),e(),i(117,"li",46),d(118,"i",47),r(119," Set appropriate course level"),e(),i(120,"li",46),d(121,"i",47),r(122," Be realistic about duration"),e()()()()()()()()()()),o&2){let s,f,h,C,b,F,S,E,y,I,x,T,q,N,j,w;a(4),_(t.isEditMode?"Edit Course":"Create New Course"),a(2),m("formGroup",t.courseForm),a(8),m("ngClass",p(24,v,((s=t.courseForm.get("title"))==null?null:s.invalid)&&((s=t.courseForm.get("title"))==null?null:s.touched))),a(),m("ngIf",((f=t.courseForm.get("title"))==null?null:f.invalid)&&((f=t.courseForm.get("title"))==null?null:f.touched)),a(4),m("ngClass",p(26,v,((h=t.courseForm.get("description"))==null?null:h.invalid)&&((h=t.courseForm.get("description"))==null?null:h.touched))),a(),m("ngIf",((C=t.courseForm.get("description"))==null?null:C.invalid)&&((C=t.courseForm.get("description"))==null?null:C.touched)),a(5),m("ngClass",p(28,v,((b=t.courseForm.get("category"))==null?null:b.invalid)&&((b=t.courseForm.get("category"))==null?null:b.touched))),a(3),m("ngForOf",t.categories),a(),m("ngIf",((F=t.courseForm.get("category"))==null?null:F.invalid)&&((F=t.courseForm.get("category"))==null?null:F.touched)),a(4),m("ngClass",p(30,v,((S=t.courseForm.get("level"))==null?null:S.invalid)&&((S=t.courseForm.get("level"))==null?null:S.touched))),a(3),m("ngForOf",t.levels),a(),m("ngIf",((E=t.courseForm.get("level"))==null?null:E.invalid)&&((E=t.courseForm.get("level"))==null?null:E.touched)),a(5),m("ngClass",p(32,v,((y=t.courseForm.get("duration"))==null?null:y.invalid)&&((y=t.courseForm.get("duration"))==null?null:y.touched))),a(),m("ngIf",((I=t.courseForm.get("duration"))==null?null:I.invalid)&&((I=t.courseForm.get("duration"))==null?null:I.touched)),a(4),m("ngClass",p(34,v,((x=t.courseForm.get("price"))==null?null:x.invalid)&&((x=t.courseForm.get("price"))==null?null:x.touched))),a(),m("ngIf",((T=t.courseForm.get("price"))==null?null:T.invalid)&&((T=t.courseForm.get("price"))==null?null:T.touched)),a(6),m("ngClass",p(36,v,((q=t.courseForm.get("teacherId"))==null?null:q.invalid)&&((q=t.courseForm.get("teacherId"))==null?null:q.touched))),a(3),m("ngForOf",t.teachers),a(),m("ngIf",((N=t.courseForm.get("teacherId"))==null?null:N.invalid)&&((N=t.courseForm.get("teacherId"))==null?null:N.touched)),a(20),m("ngClass",p(38,v,((j=t.courseForm.get("objectives"))==null?null:j.invalid)&&((j=t.courseForm.get("objectives"))==null?null:j.touched))),a(),m("ngIf",((w=t.courseForm.get("objectives"))==null?null:w.invalid)&&((w=t.courseForm.get("objectives"))==null?null:w.touched)),a(18),m("disabled",t.isSubmitting),a(),m("ngIf",t.isSubmitting),a(),D(" ",t.isEditMode?"Update Course":"Create Course"," ")}},dependencies:[k,R,O,A,G,P,re,J,Z,ee,Y,K,X,z,H,te,Q,W],encapsulation:2})};export{oe as CourseFormComponent};
