import{a as n}from"./chunk-B2SMLHQB.js";import{N as f,j as l,k as i,n as c,v as d}from"./chunk-4NTA57OQ.js";var p=class s{constructor(){}enrollStudent(r,e){return this.getStudentEnrollments(r).pipe(c(t=>{if(t.find(o=>o.courseId===e&&o.status==="active"))throw new Error("Already enrolled in this course");let u={id:Math.max(...n.enrollments.map(o=>Number(o.id)),0)+1,studentId:r,courseId:e,enrollmentDate:new Date().toISOString(),status:"active",progress:0,lastAccessed:new Date().toISOString()};n.enrollments.push(u);let m=n.students.find(o=>o.id===r);return m&&!m.enrolledCourses.includes(e)&&m.enrolledCourses.push(e),u}),d(t=>i(()=>t)))}getStudentEnrollments(r){let e=n.enrollments.filter(t=>t.studentId===r);return l(e)}getCourseEnrollments(r){let e=n.enrollments.filter(t=>t.courseId===r);return l(e)}updateEnrollmentStatus(r,e){let t=n.enrollments.find(a=>a.id===r);return t?(t.status=e,l(t)):i(()=>new Error("Enrollment not found"))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=f({token:s,factory:s.\u0275fac,providedIn:"root"})};export{p as a};
