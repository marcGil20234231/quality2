import{b as w,c,d as F,e as L,g as N,j as R,m as T,s as A,u as q}from"./chunk-WRGOV7ZX.js";import{a as E}from"./chunk-ELJGKPYX.js";import{d as S,f as y,g as x,j as I}from"./chunk-KNHRAYHO.js";import{Aa as s,Fa as v,Ib as _,Ja as d,Kb as h,Ob as C,Qa as a,Ta as i,Ua as r,Va as p,Za as g,_a as u,db as m,eb as b,lb as f,wa as n}from"./chunk-4NTA57OQ.js";import"./chunk-2NFLSA4Y.js";var D=e=>({"is-invalid":e});function k(e,l){if(e&1&&(i(0,"div",21),m(1),r()),e&2){let o=u();n(),b(o.error)}}function B(e,l){e&1&&(i(0,"div"),m(1,"Email is required"),r())}function M(e,l){e&1&&(i(0,"div"),m(1,"Please enter a valid email address"),r())}function P(e,l){if(e&1&&(i(0,"div",22),d(1,B,2,0,"div",23)(2,M,2,0,"div",23),r()),e&2){let o=u();n(),a("ngIf",o.f.email.errors.required),n(),a("ngIf",o.f.email.errors.email)}}function V(e,l){e&1&&(i(0,"div"),m(1,"Password is required"),r())}function z(e,l){if(e&1&&(i(0,"div",22),d(1,V,2,0,"div",23),r()),e&2){let o=u();n(),a("ngIf",o.f.password.errors.required)}}function H(e,l){e&1&&p(0,"span",24)}var G=class e{constructor(l,o,t,j){this.formBuilder=l;this.route=o;this.router=t;this.authService=j;this.loginForm=this.formBuilder.group({email:["",[c.required,c.email]],password:["",c.required]})}loginForm;loading=!1;submitted=!1;error="";get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.error="",this.authService.login(this.f.email.value,this.f.password.value).subscribe({next:()=>{this.loading=!1},error:l=>{this.error=l.message||"Login failed. Please check your credentials.",this.loading=!1}}))}static \u0275fac=function(o){return new(o||e)(s(A),s(S),s(y),s(E))};static \u0275cmp=v({type:e,selectors:[["app-login"]],decls:29,vars:12,consts:[[1,"container","py-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","shadow"],[1,"card-header","bg-danger","text-white","text-center","py-3"],[1,"mb-0"],[1,"card-body","p-4"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"mb-4"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control",3,"ngClass"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-danger",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"text-center","mt-3"],["routerLink","/auth/register",1,"text-danger"],[1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),m(6,"Login"),r()(),i(7,"div",6),d(8,k,2,1,"div",7),i(9,"form",8),g("ngSubmit",function(){return t.onSubmit()}),i(10,"div",9)(11,"label",10),m(12,"Email address"),r(),p(13,"input",11),d(14,P,3,2,"div",12),r(),i(15,"div",13)(16,"label",14),m(17,"Password"),r(),p(18,"input",15),d(19,z,2,1,"div",12),r(),i(20,"div",16)(21,"button",17),d(22,H,1,0,"span",18),m(23," Login "),r()()(),i(24,"div",19)(25,"p",5),m(26,"Don't have an account? "),i(27,"a",20),m(28,"Register"),r()()()()()()()()),o&2&&(n(8),a("ngIf",t.error),n(),a("formGroup",t.loginForm),n(4),a("ngClass",f(8,D,t.submitted&&t.f.email.errors)),n(),a("ngIf",t.submitted&&t.f.email.errors),n(4),a("ngClass",f(10,D,t.submitted&&t.f.password.errors)),n(),a("ngIf",t.submitted&&t.f.password.errors),n(2),a("disabled",t.loading),n(),a("ngIf",t.loading))},dependencies:[C,_,h,q,N,w,F,L,R,T,I,x],encapsulation:2})};export{G as LoginComponent};
